<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>多物体运动</title>
<style>
* { margin:0; padding:0;}
ul,li { list-style:none;}
ul > li { width:200px; height:100px; background:yellow; margin-bottom:20px;}
</style>
<script>
window.onload = function(){
    var lis = document.getElementsByTagName('li');
    for(var i=0; i<lis.length;i++){
        lis[i].timer = null;
        lis[i].onmouseover = function(){
            startmove(this,400);
            }
        lis[i].onmouseout = function(){
            startmove(this,200);
            }    
        }
        
    }

function startmove(obj,itarget){
    clearInterval(obj.timer);
    obj.timer = setInterval(function(){
        var curWidth = parseInt(getStyle(obj,'width'));
        var speed = (itarget-curWidth)/8;
        speed = speed>0?Math.ceil(speed):Math.floor(speed);
        if(curWidth==itarget){
            clearInterval(obj.timer);
            }else{
                obj.style['width'] = (curWidth+speed)+'px';
                }
        },50)
    }
function getStyle(obj,attr){
    if(obj.currentStyle){
        return obj.currentStyle[attr];
        }
    else {
        return getComputedStyle(obj,false)[attr];
        }    
    }
    
</script>
</head>

<body>
<ul>
	<li></li>
	<li></li>
	<li></li>
</ul>
</body>
</html>
